<?xml version="1.0" encoding="UTF-8"?>

<launch>

  <include file="$(find mars_ros)/launch/mars_dualpose_full.launch">

    <!-- Input -->
    <arg name="imu_in_topic" value="/imu/data" />

    <arg name="odom1_in_topic" value="/rgbd_odom" />

    <arg name="odom2_in_topic" value="/aft_mapped_to_init" />
    <arg name="gps1_pos_in" value="~gps_input" />
    <arg name="use_gps_vel" value="false" />

    <!-- Output Core State -->
    <arg name="full_state_out_topic" value="~full_state_out" />
    <arg name="full_state_lite_out_topic" value="~full_state_lite_out" />
    <arg name="pose_state_out_topic" value="~pose_state_out" />
    <arg name="odom_state_out_topic" value="/odom" />
    <arg name="path_states_out_topic" value="~path_states_out" />

    <!-- Output Calibration State -->
    <arg name="pose1_cal_state_out_topic" value="~pose1_cal_state_out" />
    <arg name="pose2_cal_state_out_topic" value="~pose2_cal_state_out" />
    <arg name="gps1_cal_state_out_topic" value="~gps1_cal_state_out" />

    <arg name="config_file" value="$(find fruc_dataset_apparatus_slam)/launch/config/mars/dualpose_config.yaml" />

    <!-- Node Options -->
    <arg name="respawn" value="false" />
    <arg name="rviz"    value="false" />

  </include>

    <node name="odom_to_tf" pkg="fruc_dataset_apparatus_slam" type="subscribe_odom_publish_tf"
      output="screen">
    <remap from="/odom" to="/odometry/filtered"/>
  </node>

</launch>