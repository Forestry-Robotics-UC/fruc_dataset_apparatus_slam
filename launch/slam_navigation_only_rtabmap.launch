<launch>

    <!-- Set sim time if not using camera -->
    <param name="/use_sim_time" value="true"/>

    <include file="$(find rtabmap_ros)/launch/rtabmap.launch">
        <arg name="depth"  value="true"/>
        <arg name="args" value="--delete_db_on_start --Optimizer/GravitySigma 0.3"/>
        <arg name="rgb_topic" value="/realsense/color/image_raw"/>
        
        <arg name="depth_topic" default="/realsense/aligned_depth_to_color/image_raw" />
        
        <arg name="camera_info_topic" value="/realsense/color/camera_info"/>
        <arg name="depth_camera_info_topic" default="/realsense/aligned_depth_to_color/camera_info" />
        <param name="depth_image_topic" value="/realsense/aligned_depth_to_color/image_raw" />
        
        <arg name="visual_odometry" value="true"/>
        <arg name="icp_odometry" default="false"/>

        <arg name="rtabmapviz" value="false"/>
        <arg name="rviz" value="true"/>
        <arg name="frame_id" value="base_link"/>

        <arg name="compressed" default="true"/>

        <arg name="approx_sync" value="true"/>
        <arg name="approx_sync_max_interval"  default="0"/>


        <arg name="gps_topic" default="/mimix3/gps/assisted" /> 
        <param name="publish_null_when_lost" value="false"/>
        <param name="Odom/ResetCountdown" value="1"/>
    </include>


</launch>